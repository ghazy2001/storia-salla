require("dotenv").config();
const mongoose = require("mongoose");
const FAQ = require("../models/FAQ");
const Review = require("../models/Review");

const initialReviews = [
  {
    name: "مها العتيبي",
    text: "التوصيل كان سريع جداً. المقاسات مضبوطة ونفس الصور للمنتج. أنصح بالشراء وبشدة. تجربة رائعة!",
    rating: 5,
  },
  {
    name: "هدى الزهراني",
    text: "حبيت التصميم بس كنت أتمنى توضيح أفضل للون في الصور. لكن الجودة ممتازة وسأطلب مرة أخرى.",
    rating: 4,
  },
  {
    name: "فاطمة الشمري",
    text: "خدمة ممتازة وارجاع سريع لما احتجت أبدل المقاس. أنصح للبنات اللي عايزين راحتهم وأناقة.",
    rating: 5,
  },
  {
    name: "ريم الفاضل",
    text: "التغليف كان آمن والعباية رهيبة، القماش بارد ومناسب جداً للصيف. شكراً ستوريا على هذا الإبداع.",
    rating: 5,
  },
  {
    name: "سارة محمد",
    text: "الخامة تهبل والتفاصيل دقيقة جداً. أحلى عباية طلبتها بحياتي، شكراً لكم!",
    rating: 5,
  },
  {
    name: "نورة القحطاني",
    text: "تعامل راقي وسرعة في التوصيل. العباية فخمة وتنفع للمناسبات. أكيد مو آخر تعامل.",
    rating: 5,
  },
  {
    name: "أمل الحربي",
    text: "جميلة جداً باللبس، القماش طايح ومرتب. وصلتني خلال يومين بس!",
    rating: 4,
  },
  {
    name: "شروق العمري",
    text: "كل شي بيرفكت، من التغليف للعباية نفسها. تستاهلون كل ريال.",
    rating: 5,
  },
];

const initialFAQs = [
  {
    question: "ما هي أنواع العبايات التي توفرونها؟",
    answer:
      "نقدم مجموعة متنوعة من العبايات تشمل العبايات السوداء الكلاسيكية، العبايات الملونة، العبايات الرسمية، وعبايات المناسبات. نستخدم أجود أنواع الأقمشة مثل الكريب، الحرير، واللينن لضمان الراحة والأناقة.",
  },
  {
    question: "هل جميع العبايات متوفرة بمقاسات مختلفة؟",
    answer:
      "نعم، معظم تصاميمنا تتوفر بمقاسات قياسية تتراوح من 50 إلى 60. كما يتوفر جدول مقاسات تفصيلي في صفحة كل منتج لمساعدتك في اختيار المقاس الأنسب.",
  },
  {
    question: "هل يمكن تعديل الطول أو المقاس؟",
    answer:
      "نعم، نقدم خدمة التعديل للطول والمقاس لبعض الموديلات. يرجى التواصل مع خدمة العملاء عبر واتساب قبل الطلب للتأكد من إمكانية التعديل على الموديل المختار.",
  },
  {
    question: "ما هي خامات العبايات المستخدمة؟",
    answer:
      "نحرص في ستوريا على اختيار أفضل الخامات العالمية. تشمل خاماتنا الكريب الملكي، الإنترنت، الحرير المغسول، والكتان الفاخر، لنضمن لك جودة تدوم ومظهراً فخماً.",
  },
  {
    question: "كيف أختار المقاس المناسب لي؟",
    answer:
      "نعتمد نظام المقاسات القياسي (50-60). ننصحك بقياس طولك من الكتف إلى الأسفل ومقارنته بجدول المقاسات. إذا كنتِ مترددة، يفضل اختيار المقاس الأكبر لضمان الراحة, أو التواصل معنا للمساعدة.",
  },
  {
    question: "هل العبايات متوفرة في فروع أو فقط أونلاين؟",
    answer:
      "حالياً، مبيعاتنا تتم حصرياً عبر متجرنا الإلكتروني. نوفر خدمة شحن سريع لجميع مناطق المملكة والخليج، مع سياسة استبدال واسترجاع مرنة لضمان تجربة تسوق مريحة.",
  },
];

async function seedContent() {
  try {
    await mongoose.connect(process.env.MONGODB_URI);
    console.log("Connected to MongoDB");

    // Seed FAQs
    for (const f of initialFAQs) {
      const exists = await FAQ.findOne({ question: f.question });
      if (!exists) {
        await new FAQ(f).save();
        console.log(`Seeded FAQ: ${f.question}`);
      }
    }

    // Seed Reviews
    for (const r of initialReviews) {
      const exists = await Review.findOne({ name: r.name, text: r.text });
      if (!exists) {
        await new Review(r).save();
        console.log(`Seeded Review from: ${r.name}`);
      }
    }

    console.log("Seeding complete!");
    process.exit(0);
  } catch (error) {
    console.error("Seeding failed:", error);
    process.exit(1);
  }
}

seedContent();
